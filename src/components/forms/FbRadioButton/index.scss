@import "../../../assets/variables/colors";
@import "../../../assets/variables/forms";
@import "../../../assets/variables/screen";
@import "../../../assets/mixins/utilities";
@import "../../../assets/mixins/border.radius";

@mixin radio-size($padding-vertical, $padding-horizontal, $font-size, $line-height, $border-radius) {
  padding: $padding-vertical $padding-horizontal;
  font-size: $font-size;
  line-height: $line-height;
  @include border-radius($border-radius);
}

@mixin radio-variant($color, $background, $border) {
  color: $color;
  background-color: $background;
  border-color: $border;

  svg {
    color: $color;
  }

  &:active,
  &.active {
    color: $color;
    background-color: darken($background, 14%);
    border-color: darken($border, 16%);

    svg {
      color: $color;
    }
  }
}

.fb-radio {

  // CLASSIC RADIO STYLE

  &__container {
    margin-bottom: $form-group-margin-bottom;
    padding: $form-group-padding-vertical 0;
    position: relative;

    & & {
      margin-bottom: -$form-group-padding-vertical;
      margin-top: -$form-group-padding-vertical;
    }
  }

  &__label {
    cursor: pointer;
    font-weight: 400;
    line-height: 14px;
    margin-bottom: 0;
    min-height: 14px;
    min-width: 14px;
    position: relative;
    @include user-select(none);
    vertical-align: middle;
    display: inline-block;
    max-width: 100%;
  }

  &__input {
    @include opacity(0);
    position: absolute;
    z-index: -1;

    &:checked ~ .fb-radio__indicator,
    &:active ~ .fb-radio__indicator {
      border: none;
    }

    &:checked ~ .fb-radio__indicator {
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='28' viewBox='0 0 24 28' fill='%23fff'%3E%3Cpath d='M24 14q0 3.266-1.609 6.023t-4.367 4.367-6.023 1.609-6.023-1.609-4.367-4.367T.002 14t1.609-6.023T5.978 3.61t6.023-1.609 6.023 1.609 4.367 4.367T24 14z'/%3E%3C/svg%3E");
    }

    &:disabled  ~ .fb-radio__indicator {
      cursor: $cursor-disabled;
    }

    &:disabled:checked ~ .fb-radio__indicator {
      background-color: $gray-lighter;
    }

    &:checked ~ .fb-radio__indicator {
      background-color: $brand-primary;
    }

    &:active ~ .fb-radio__indicator {
      background-color: lighten($brand-primary, 25);
    }
  }

  &__indicator {
    background-color: #fff;
    background-position: center center;
    background-repeat: no-repeat;
    border-color: $gray-lighter;
    border-style: solid;
    border-width: 1px;
    display: block;
    height: $indicator-size;
    left: 0;
    position: absolute;
    top: 0;
    width: $indicator-size;

    background-size: 60% 60%;
    border-radius: 50%;

    &.has-error {
      border-color: $brand-danger;
    }
  }

  &__indicator-label {
    display: block;
    line-height: $indicator-size;
    margin-left: ceil($indicator-size * 1.5);
    @include user-select(text);

    &.has-error {
      color: $brand-danger;
    }
  }

  // BUTTON STYLE GROUP

  &__label-btn {
    display: inline-block;
    margin-bottom: 0;
    font-weight: $input-group-btn-font-weight;
    text-align: center;
    vertical-align: middle;
    touch-action: manipulation;
    cursor: pointer;
    background-image: none;
    border: 1px solid transparent;
    white-space: nowrap;
    @include radio-size($padding-vertical, $padding-horizontal, $font-size, $line-height, $input-border-radius);
    @include user-select(none);

    background-position: $input-group-btn-background-position;
    background-size: $input-group-btn-background-size;
    box-shadow: $input-group-btn-box-shadow;
    outline: $input-group-btn-outline;
    position: relative;
    text-decoration: none;
    text-transform: $input-group-btn-text-transform;
    transition: $input-group-btn-transition;

    position: relative;
    float: left;

    input {
      position: absolute;
      clip: rect(0,0,0,0);
      pointer-events: none;
    }
  }

  &__label-btn-lg {
    @include radio-size($padding-large-vertical, $padding-large-horizontal, $font-size-large, $line-height-large, $input-border-radius-large);
  }

  &__label-btn-sm {
    @include radio-size($padding-small-vertical, $padding-small-horizontal, $font-size-small, $line-height-small, $input-border-radius-small);
  }

  &__label-btn-xs {
    @include radio-size($padding-xs-vertical, $padding-xs-horizontal, $font-size-small, $line-height-small, $input-border-radius-small);
  }

  &__label-btn-default {
    @include radio-variant($input-default-color, $input-default-bg, $input-default-border);
  }

  &__label-btn-primary {
    @include radio-variant($input-primary-color, $input-primary-bg, $input-primary-border);
  }

  &__label-btn-success {
    @include radio-variant($input-success-color, $input-success-bg, $input-success-border);
  }

  &__label-btn-info {
    @include radio-variant($input-info-color, $input-info-bg, $input-info-border);
  }

  &__label-btn-warning {
    @include radio-variant($input-warning-color, $input-warning-bg, $input-warning-border);
  }

  &__label-btn-danger {
    @include radio-variant($input-danger-color, $input-danger-bg, $input-danger-border);
  }

  &__label-btn-pill {
    @include border-radius($input-pill-border-radius);
    padding-left: $input-pill-padding-horizontal;
    padding-right: $input-pill-padding-horizontal;
  }
}
