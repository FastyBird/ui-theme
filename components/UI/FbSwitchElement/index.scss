@import "../../../assets/variables/colors";
@import "../../../assets/mixins/utilities";

$switch-height: 20px !default;
$switch-width: 44px !default;

@mixin switch-variant($color) {
  input {
    &:checked {
      ~ .fb-switch-element__track {
        background-color: $color;
      }

      ~ .fb-switch-element__thumb {
        border-color: $color;
      }

      &:disabled {
        ~ .fb-switch-element__track {
          background-color: $color;
        }

        ~ .fb-switch-element__thumb {
          border-color: $color;
        }
      }
    }
  }
}

.fb-switch-element {
  &__container {
    cursor: pointer;
    display: inline-block;
    height: $switch-height;
    margin: 0;
    position: relative;
    user-select: none;
    vertical-align: middle;
    width: $switch-width;

    input {
      @include opacity(0);

      position: absolute;
      z-index: -1;

      &:checked {
        ~ .fb-switch-element__thumb {
          left: sum($switch-width, -$switch-height);
        }
      }

      &:disabled {
        ~ .fb-switch-element__track {
          background-color: $gray;
          cursor: not-allowed;
        }

        ~ .fb-switch-element__thumb {
          border-color: $gray;
          cursor: not-allowed;
        }

        &:checked {
          ~ .fb-switch-element__track {
            cursor: not-allowed;
          }
        }
      }
    }

    &[data-variant="default"] {
      @include switch-variant($gray);
    }

    &[data-variant="primary"] {
      @include switch-variant($brand-primary);
    }

    &[data-variant="success"] {
      @include switch-variant($brand-success);
    }

    &[data-variant="info"] {
      @include switch-variant($brand-info);
    }

    &[data-variant="warning"] {
      @include switch-variant($brand-warning);
    }

    &[data-variant="danger"] {
      @include switch-variant($brand-danger);
    }
  }

  &__track {
    background-color: $gray;
    border-radius: half($switch-height);
    height: 100%;
    left: 0;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 100%;
  }

  &__thumb {
    background-color: #fff;
    border-color: $gray;
    border-radius: 50%;
    border-style: solid;
    border-width: 50%;
    height: $switch-height;
    left: 0;
    position: absolute;
    top: 0;
    transition: left 0.15s ease-out;
    width: $switch-height;
  }
}
